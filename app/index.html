<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <title>Filesync</title>
      <style>
        #status {
          position: fixed;
          bottom: 10px;
          right: 10px;
          border: 1px solid #CCC;
          background: #EEE;
          padding: 3px;
        }
        #status ul {
          list-style-type: none;
          margin: 0;
          padding: 0;
        }
      </style>
  </head>
  <body>
    <a id="start-download" href="javascript:;">Download</a>
    <div id="status"><ul></ul></div>
    <script src="jquery.js"></script>
    <script type="text/javascript">
      var filesync = require('./filesync').create({
        folder: '/var/www/node-webkit-filerunner'
      });
      filesync.on('start', function(data) {
        var tag = '<li id="file-' + data.id + '">New File</li>';
        $('#status ul').append(tag);
      });
      filesync.on('progress', function(data) {
        $('#file-' + data.id).html('Progress: ' + data.percentage);
      });
      filesync.on('finished', function(data) {
        $('#file-' + data.id).html('Finished download!');
      });
      filesync.on('send', function(data) {
        $('#file-' + data.id).html('Syncing');
      });
      filesync.on('sycned', function(data) {
        $('#file-' + data.id).html('Scyned');
      });
      $('#start-download').click(function(){
        filesync.downloadAndSyncFile("https://gist.github.com/Rovak/02de216e47893d48104f/raw/97c01a50cade3c30f7767fde242fe6b6bd8ea970/hacking-game.md");
        //filesync.downloadAndSyncFile("http://data.razko.nl/projects/rovachan/dist-1.0-SNAPSHOT.zip");
      });
    </script>
  </body>
</html>